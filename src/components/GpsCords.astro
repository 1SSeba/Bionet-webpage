---
// src/components/GPSComponent.astro

// Fetch GPS data on the server side
const fetchGPSData = async () => {
  try {
    const response = await fetch('/api/get_gps_data');
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error fetching GPS data:', error);
    return { lat: 'N/A', lon: 'N/A' };
  }
};

// Get the data on build
const gpsData = await fetchGPSData();
---

<section>
  <h2>GPS Location</h2>
  <p id="location">
    Latitude: {gpsData.lat}, Longitude: {gpsData.lon}
  </p>
</section>
